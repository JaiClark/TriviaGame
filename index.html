<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SpongeBob Trivia</title>


    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
    <link href = "style.css" rel = "stylesheet">


    <script type="text/javascript">
  
        var pos = 0, test, test_status, question, choice, choices, chA, chB, chC, correct = 0;
        
        var questions = [
        ["Who lives in a PineApple under the sea?", "Jack Black", "Miley Cyrus", "SpongeBob", "C"], 
        ["Where did Spongebob work?", "Hooters", "Krusty Krab", "White Castle", "B"],
        ["Who is the cheapest in Bikini Bottom?", "Plantkon", "Squidward", "Mr.Krabs", "C"],
        ["What does Plankton try to steal from Mr.Krabs?", "Kraby Patty Secret Formula", "Eggs", "Biscuits", "A"],
        ["Who is SpongeBob's bestfriend?", "Johnny Bravo", "CatDog", "Patrick", "C"] 
        ];
        
        
        // this get function is short for the getElementById function  
        function get(x){
          return document.getElementById(x);
        }
        
        
        function renderQuestion(){
          test = get("test");
          if(pos >= questions.length){
            test.innerHTML = "<h2>You got "+correct+" of "+questions.length+" questions correct!!</h2>";
            get("test_status").innerHTML = "Test completed";
            // resets the variable to allow users to restart the test
            pos = 0;
            correct = 0;
            // stops rest of renderQuestion function running when test is completed
            return false;
          }


          get("test_status").innerHTML = "Question "+(pos+1)+" of "+questions.length;
          question = questions[pos][0];
          chA = questions[pos][1];
          chB = questions[pos][2];
          chC = questions[pos][3];
          test.innerHTML = "<h3>"+question+"</h3>";
          
          test.innerHTML += "<input type='radio' name='choices' value='A'> "+chA+"<br>";
          test.innerHTML += "<input type='radio' name='choices' value='B'> "+chB+"<br>";
          test.innerHTML += "<input type='radio' name='choices' value='C'> "+chC+"<br><br>";
          test.innerHTML += "<button onclick='answerCheck()'>Submit Answer</button>";
        }


        function answerCheck(){
          
          choices = document.getElementsByName("choices");
          for(var i=0; i<choices.length; i++){
            if(choices[i].checked){
              choice = choices[i].value;
            }
          }


          // checks if answer matches the correct choice
          if(choice == questions[pos][4]){
            //each time there is a correct answer this value increases
            correct++;
          }


          // changes position of which character user is on
          pos++;
          // then the renderQuestion function runs again to go to next question
          renderQuestion();
        }


        window.addEventListener("load", renderQuestion, false);
        </script>
</head>


<body>

    <div class ="container" id = "otherContainer" style = "width: 50%;">
        <h2 id="test_status"></h2>
        <div id="test"></div>
    </div>

</body>
</html>
